(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4477],{73703:function(e,t){"use strict";t.Z={src:"/_next/static/media/batsymbol.9694d9d7.svg",height:460,width:1318}},88219:function(e,t){"use strict";t.Z={src:"/_next/static/media/profile.f5685938.svg",height:980,width:980}},31183:function(e,t,n){"use strict";var i,a=n(85893),s=n(72938),r=n.n(s),c=n(80612);t.Z=function(e){return(0,a.jsx)("span",{onClick:function(t){t.preventDefault(),e.toggle()},className:"".concat(null!==(i=e.className)&&void 0!==i?i:""," ").concat(r().container),children:(0,a.jsx)(c.ZP,{showSign:!0,compact:!0,colored:!0,usd:!e.showPercent,value:e.change[e.showPercent?"percent":"value"],suffix:e.showPercent?"%":""})})}},94514:function(e,t,n){"use strict";n.d(t,{P:function(){return N}});var i=n(14924),a=n(26042),s=n(69396),r=n(29815),c=n(85893),d=n(67294),l=n(65313),o=n(36081),u=n(40570),h=n(3034),m=n(7187),v=n.n(m),f=n(88767),x=n(62984),_=n(95417),y=n(2947),j=n(56116),p=n(29320),g=n(59830),N=function(e){var t,n=e.address,m=(0,o.l)(),N=m.modals,b=m.setContext,k=((0,_.X)(),(0,d.useState)("")),E=k[0],C=k[1],I=(0,d.useState)(""),w=I[0],Z=I[1],T=(0,d.useState)(),A=T[0],H=T[1],F=(0,d.useState)("update"),z=F[0],L=F[1],U=g.zj.test(n)?"bitcoin":g.Rw.test(n)?"evm":g.k2.test(n)?"tron":"evm",P=l.h_.intelligence.addressAll(n),S=l.h_.userEntities.readAll().data,q=(0,f.useQueryClient)(),B=((0,x.useAuthUser)(),l.h_.userEntities.update((function(){(0,r.Z)(g.fr[U].map((function(e){return"/intelligence/address/".concat(n,"?chain=").concat(e)}))).concat(["/intelligence/address/".concat(n,"/all")]).forEach((function(e){return q.invalidateQueries([e],{refetchInactive:!0})})),b({modals:N.slice(0,-1)})}))),V=l.h_.userEntities.create((function(){return b({modals:N.slice(0,-1)})})),D=(0,j.Ae)(P.data).find((function(e){return g.HH[e.chain]===U})),R=null!==(t=null===D||void 0===D?void 0:D.value.userEntity)&&void 0!==t?t:null===D||void 0===D?void 0:D.value.arkhamEntity;return(0,c.jsxs)("div",{className:v().container,children:[(0,c.jsxs)("div",{className:v().header,children:[(0,c.jsx)("span",{className:v().typeButton,onClick:function(){return L("update")},children:"ADD TO ENTITY"}),(0,c.jsx)("span",{className:v().typeButton,onClick:function(){return L("create")},children:"CREATE NEW ENTITY"}),(0,c.jsx)("span",{className:v().typeButton,onClick:function(){return L("delete")},children:"REMOVE FROM ENTITY"})]}),(0,c.jsxs)("div",{className:v().content,children:["update"===z&&(0,c.jsxs)(c.Fragment,{children:[null!=R&&(0,c.jsxs)("span",{className:v().note,children:["Note: this address is already in ",R.name," for ",g.T6[U],". If you add it to another entity, it will be removed from that entity."]}),(0,c.jsx)(h.Z,{size:50,onEnter:function(e){var t;if(e.suggestionOption){var i,c,d=(0,y.YK)(e.suggestionOption),l=null!==(i=S.find((function(e){return e.id===d})))&&void 0!==i?i:{id:d},o=(0,a.Z)({},l.addresses);o[U]=(0,r.Z)(null!==(c=null===(t=l.addresses)||void 0===t?void 0:t[U])&&void 0!==c?c:[]).concat([n]),B.mutate((0,s.Z)((0,a.Z)({},l),{addresses:o}))}},placeholder:"Begin typing entity name...",value:E,onChange:function(e){return C(e.target.value)},useSuggestions:function(e){return(0,y.u$)(l.h_.entitiesSearch(e).data,!1,!1)}})]}),"create"===z&&(0,c.jsxs)(c.Fragment,{children:[null!=R&&(0,c.jsxs)("span",{className:v().note,children:["Note: this address is already in ",R.name," for ",g.T6[U],". If you add it to another entity, it will be removed from that entity."]}),(0,c.jsx)(h.Z,{size:50,onEnter:function(){return V.mutate({name:w,note:A,addresses:(0,i.Z)({},U,[n]),id:""})},placeholder:"Name",value:w,onChange:function(e){return Z(e.target.value)}}),(0,c.jsx)(h.Z,{size:50,onEnter:function(){return V.mutate({name:w,note:A,addresses:(0,i.Z)({},U,[n]),id:""})},value:A,onChange:function(e){return H(e.target.value)},placeholder:"Notes (optional)"}),(0,c.jsx)(u.Z,{className:v().submit,onClick:function(){V.mutate({name:w,note:A,addresses:(0,i.Z)({},U,[n]),id:""})},disabled:V.isLoading,children:"Create Entity"})]}),"delete"===z&&(null!=R?(0,c.jsx)(u.Z,{className:v().submit,onClick:function(){var e,t,i=R,c=(0,a.Z)({},i.addresses);c[U]=(0,r.Z)(null!==(t=null===(e=i.addresses)||void 0===e?void 0:e[U])&&void 0!==t?t:[]).filter((function(e){return e!==n})),B.mutate((0,s.Z)((0,a.Z)({},i),{addresses:c}))},disabled:B.isLoading,children:(0,c.jsxs)("div",{className:v().buttonText,children:["Remove From: ",(0,c.jsx)(p.t,{id:U,type:"chainType",children:R.name})]})}):(0,c.jsx)("span",{className:v().note,children:"You have not added this address to an entity."}))]})]})}},84477:function(e,t,n){"use strict";n.d(t,{Tz:function(){return X},hH:function(){return ne},hd:function(){return G},ZP:function(){return ae}});var i=n(29815),a=n(85893),s=n(55027),r=n.n(s),c=n(20157),d=n.n(c),l=n(25675),o=n.n(l),u=n(73703),h=n(27234),m={src:"/_next/static/media/addToEntityIcon.03472937.svg",height:19,width:21},v={src:"/_next/static/media/visualizeIcon.156d7711.svg",height:19,width:19},f={src:"/_next/static/media/trackIcon.fc0c215c.svg",height:15,width:15},x=n(62984),_=n(31183),y=n(80612),j=n(40570),p=n(65313),g=n(23302),N=n(36081),b=n(11163),k=n(70532),E=n(77342),C=n(94514),I=n(9008),w=n.n(I),Z=n(67294),T=n(95417),A=n(88219),H=n(63646),F=n(38138),z=n(60155),L=n(51649),U=n(97735),P=n(454),S=n(41664),q=n.n(S),B=n(54267),V=n(67418),D=n(56116),R=n(59830),K=n(79352),Y=function(e){var t,n,i,s=e.query,c=e.chains,d="entity"in s?p.h_.intelligence.entity({id:s.entity,name:""}):void 0,l="address"in s?p.h_.intelligence.addressAll(s.address):void 0,h=null===(n=null===(t=(0,D.Ae)(null!==(i=null===l||void 0===l?void 0:l.data)&&void 0!==i?i:{}).filter((function(e){return(null!==c&&void 0!==c?c:g.df).includes(e.chain)})).find((function(e){var t;return null===(t=e.value.arkhamEntity)||void 0===t?void 0:t.id})))||void 0===t?void 0:t.value.arkhamEntity)||void 0===n?void 0:n.id,m=(0,Z.useState)(A.Z.src),v=m[0],f=m[1];return(0,Z.useEffect)((function(){(null===d||void 0===d?void 0:d.data.id)?f("https://assets.arkhamintelligence.com/entities/".concat(d.data.id,".png")):f(h?"https://assets.arkhamintelligence.com/entities/".concat(h,".png"):A.Z.src)}),[null===d||void 0===d?void 0:d.data.id,h,s,c]),(0,a.jsx)("div",{className:r().profilePicture,children:(0,a.jsx)(o(),{src:v,placeholder:"blur",blurDataURL:u.Z,layout:"fill",onError:function(){return f(A.Z.src)}})})},M=function(e){var t=e.entity,n=(0,b.useRouter)(),i=p.h_.intelligence.entity({id:t,name:""}),s=(0,x.useAuthUser)(),c=p.h_.userEntities.create((function(e){return n.push("/explorer/entity/".concat(e.id))}));return i.data.ownerUID&&s.id!==i.data.ownerUID?(0,a.jsx)(j.Z,{format:"text",onClick:function(){return c.mutate(i.data)},children:(0,a.jsxs)("div",{className:r().buttonContent,children:[(0,a.jsx)("div",{className:r().cloneIcon,children:(0,a.jsx)(z.mcF,{style:{width:"100%",height:"100%"}})}),"Clone Entity"]})}):null},O=function(e){var t,n=e.entity,s=((0,T.X)(),p.h_.entityTracking.get()),c=p.h_.intelligence.entity({id:n,name:""}),d=p.h_.entityTracking.set(),l=null===(t=s.data)||void 0===t?void 0:t.includes(c.data.id);return(0,a.jsx)(k.qL,{error:s.error,children:function(){return(0,a.jsx)(j.Z,{format:"text",onClick:function(){s.isFetching||d.mutate(l?s.data.filter((function(e){return e!==c.data.id})):(0,i.Z)(s.data).concat([c.data.id]))},disabled:s.isFetching||d.isLoading||null!==s.error||null!==c.error,children:(0,a.jsxs)("div",{className:r().buttonContent,children:[(0,a.jsx)("div",{className:r().addToEntityIcon,children:(0,a.jsx)(o(),{layout:"fill",src:f})}),l?"Untrack":"Track"]})})}})},Q=function(e){var t=e.address,n=t.split(","),s=(0,N.l)(),c=s.modals,d=s.setContext;return(0,a.jsx)(j.Z,{format:"text",onClick:1===n.length?function(){return d({modals:(0,i.Z)(c).concat([(0,a.jsx)(C.P,{address:t})])})}:void 0,disabled:0===n.length||n.length>1,children:(0,a.jsxs)("div",{className:r().buttonContent,children:[(0,a.jsx)("div",{className:r().addToEntityIcon,children:(0,a.jsx)(o(),{layout:"fill",src:m})}),"Add To Entity"]})})},W=function(e){var t=e.entityId;return(0,a.jsx)(j.Z,{size:"default",format:"text",children:(0,a.jsxs)("a",{href:"/labels/".concat(t),className:r().buttonContent,children:[(0,a.jsx)(K.la$,{className:r().editIcon}),"Edit Entity"]})})},G=function(e){var t=e.id,n=e.type,i=e.size,s=void 0===i?"default":i;(0,b.useRouter)();return(0,a.jsx)(j.Z,{size:s,format:"text",children:(0,a.jsxs)("a",{href:"/visualizer/".concat(n,"/").concat(t),className:r().buttonContent,children:[(0,a.jsx)("div",{className:r().visualizeIcon,children:(0,a.jsx)(o(),{layout:"fill",src:v})}),"Visualize"]})})},X=function(){var e="Click to copy link",t=(0,Z.useState)(e),n=t[0],i=t[1];return(0,a.jsx)(H.Kb,{popup:n,children:(0,a.jsx)(j.Z,{onClick:function(){navigator.clipboard.writeText(location.href),i("Copied"),setTimeout((function(){return i(e)}),2e3)},className:r().shareButton,children:(0,a.jsxs)("div",{className:r().buttonContent,children:[(0,a.jsx)("div",{className:r().shareIcon,children:(0,a.jsx)(F.MYp,{style:{width:"100%",height:"100%"}})}),"Share"]})})})},$=function(e){var t=e.query,n=e.chains,i=e.cheap,s=e.compact,c=p.h_.balances(t,i),d=(0,N.l)(),l=d.showPercent,o=d.setContext,u=(0,D.bI)(c.data.totalBalance,n,(function(e,t){return e+t}),0),h=(0,D.bI)(c.data.totalBalance24hAgo,n,(function(e,t){return e+t}),0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.ZP,{className:r().portfolioValue,value:u,usd:!0,compact:s}),(0,a.jsx)(_.Z,{change:{value:u-h,percent:100*(1-h/u)},showPercent:l,toggle:function(){return o({showPercent:!l})},className:r().portfolioValueChange})]})},J=function(e){var t=e.address,n=e.chains,i=t.split(","),s=p.h_.intelligence.addressAll(i[0]),c=R.NE.test(i[0])?"ethereum":R.zj.test(i[0])?"bitcoin":"tron",d=(0,Z.useState)({address:i[0],chain:c}),l=d[0],o=d[1];(0,Z.useEffect)((function(){var e=(0,D.Ae)(s.data).map((function(e){return e.value})).filter((function(e){return(null!==n&&void 0!==n?n:g.df).includes(e.chain)}));e.length>0&&o(function(e){var t=e.find((function(e){return e.arkhamEntity||e.userEntity}));return t||(e.find((function(e){return e.arkhamLabel||e.userLabel}))||e[0])}(e))}),[s.data,n]);var u="Copy address",h=(0,Z.useState)(u),m=h[0],v=h[1];return s.isFetching?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w(),{children:(0,a.jsx)("title",{children:(0,E.tF)(l)})}),(0,a.jsx)(k.qL,{error:s.error,children:function(){var e,s,c;return(0,a.jsxs)("div",{className:r().content,children:[(0,a.jsx)("div",{className:r().title,children:(0,a.jsxs)("div",{className:r().displayName,children:[(0,a.jsx)(E.kL,{address:l,editable:1===i.length}),1==i.length?(0,a.jsx)(H.Kb,{popup:m,children:(0,a.jsx)("div",{className:r().copyAddress,onClick:function(){navigator.clipboard.writeText((0,D.Tg)(t)),v("Copied"),setTimeout((function(){return v(u)}),2e3)},children:(0,a.jsx)(L.VIo,{size:".6em"})})}):(0,a.jsxs)(a.Fragment,{children:["\xa0"," + ".concat(i.length-1," more")]})]})}),(0,a.jsx)(ne,{query:{address:t},chains:n,website:null===(e=l.arkhamEntity)||void 0===e?void 0:e.website,twitter:null===(s=l.arkhamEntity)||void 0===s?void 0:s.twitter,linkedin:null===(c=l.arkhamEntity)||void 0===c?void 0:c.linkedin})]})}})]})},ee=function(e){var t=e.url,n=e.type,i="twitter"===n?U.mWf:"website"===n?P.$cV:"crunchbase"===n?U.NIY:U.n7M;return(0,a.jsx)(q(),{href:t,passHref:!0,children:(0,a.jsx)("a",{target:"_blank",children:(0,a.jsx)(i,{className:r().socialIcon,size:"1.2em"})})})},te=function(e){var t=e.entity,n=e.chains,i=(0,x.useAuthUser)(),s=t.ownerUID&&i.id===t.ownerUID,c=t.customized,l=(0,D.Qj)(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w(),{children:(0,a.jsx)("title",{children:t.name})}),(0,a.jsxs)("div",{className:r().content,children:[(0,a.jsxs)("div",{className:r().title,children:[(0,a.jsx)("div",{className:r().displayName,children:(0,a.jsx)("span",{className:r().title+(c||s?" "+d().custom:""),children:t.name})}),l&&!c&&!s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:r().arkhamCheck,children:(0,a.jsx)(o(),{src:h.Z,placeholder:"blur",blurDataURL:h.Z,layout:"fill"})}),(0,a.jsx)("span",{className:r().arkhamEntityLabel,children:"Arkham Entity"})]})]}),(0,a.jsx)(ne,{query:{entity:t.id},chains:n,website:t.website,twitter:t.twitter,linkedin:t.linkedin})]})]})},ne=function(e){var t=e.query,n=e.chains,i=e.cheap,s=e.compact,c=e.website,d=e.twitter,l=e.linkedin;return(0,a.jsxs)("div",{className:r().value,children:[(0,a.jsx)($,{compact:s,query:t,chains:n,cheap:i}),(0,a.jsxs)("div",{className:r().socialIcons,children:[c&&(0,a.jsx)(ee,{url:c,type:"website"}),d&&(0,a.jsx)(ee,{url:d,type:"twitter"}),l&&(0,a.jsx)(ee,{url:l,type:"linkedin"})]})]})},ie=function(e){var t,n=e.chains,i=p.h_.user.get();p.h_.user.set();return i.data?(0,a.jsxs)(a.Fragment,{children:[!i.isFetching&&(0,a.jsx)(w(),{children:(0,a.jsx)("title",{children:i.data.displayName})}),(0,a.jsxs)("div",{className:r().content,children:[(0,a.jsx)("div",{className:r().title,children:(0,a.jsx)("div",{className:r().displayName,children:null!==(t=i.data.username)&&void 0!==t?t:i.data.displayName})}),(0,a.jsx)("div",{className:r().value,children:(0,a.jsx)($,{query:{},chains:n})})]})]}):(0,a.jsx)(a.Fragment,{})},ae=function(e){var t=e.query,n="entity"in t?t.entity:"address"in t?t.address:"user",i=(0,V.C)(),s=i.chains,c=i.setChains,d="entity"in t?p.h_.intelligence.entity({id:t.entity,name:""}):void 0,l=(0,x.useAuthUser)(),o=d&&d.data&&d.data.ownerUID&&l.id===d.data.ownerUID,u=d&&d.data&&((0,D.U2)(d.data)||d.data.customized),h=null!=l.id;return(0,a.jsxs)("div",{className:r().container,children:[(0,a.jsxs)("div",{className:r().left,children:[(0,a.jsx)(Y,{query:t,chains:s}),"address"in t?(0,a.jsx)(J,{address:t.address,chains:s}):"entity"in t&&d?(0,a.jsx)(k.Vx,{loading:d.isFetching,error:d.error,children:d.data&&(0,a.jsx)(te,{entity:d.data,chains:s})}):(0,a.jsx)(ie,{chains:s})]}),(0,a.jsxs)("div",{className:r().right,children:[(0,a.jsx)("div",{className:r().selectChain,children:(0,a.jsx)(B.jP,{showSelected:!0,chains:s,onChange:function(e){return c(e)},closeOnChange:!0})}),"address"in t&&h&&(0,a.jsx)(Q,{address:t.address}),"entity"in t&&h&&(0,a.jsx)(M,{entity:t.entity}),"entity"in t&&h&&(o||u)&&(0,a.jsx)(W,{entityId:t.entity}),"entity"in t&&h&&(0,a.jsx)(O,{entity:t.entity}),(0,a.jsx)(G,{id:n,type:"entity"}),("entity"in t||"address"in t)&&(0,a.jsx)(X,{})]})]})}},72938:function(e){e.exports={container:"ValueChange_container__axa63"}},7187:function(e){e.exports={container:"AddToEntity_container__xwUba",header:"AddToEntity_header__sy9oF",typeButton:"AddToEntity_typeButton__7Ilor",content:"AddToEntity_content__9yfUp",note:"AddToEntity_note__4wIP7",buttons:"AddToEntity_buttons__Tic2D",buttonText:"AddToEntity_buttonText__maKQY"}},55027:function(e){e.exports={container:"Header_container__dRKNU",left:"Header_left___glmx",right:"Header_right__pWFtY",selectChain:"Header_selectChain___LhGo",profilePicture:"Header_profilePicture__K983t",content:"Header_content__Hv0eN",displayName:"Header_displayName__t6oLd",arkhamCheck:"Header_arkhamCheck__aBubR",arkhamEntityLabel:"Header_arkhamEntityLabel__c0G2p",title:"Header_title__bBGCL",portfolioValue:"Header_portfolioValue__4KQk0",portfolioValueChange:"Header_portfolioValueChange__m6F3K",value:"Header_value__ofMgh",buttonContent:"Header_buttonContent__ZKEG3",addToEntityIcon:"Header_addToEntityIcon__SS7KV",shareIcon:"Header_shareIcon__Qny3E",visualizeIcon:"Header_visualizeIcon__xKI1Y",cloneIcon:"Header_cloneIcon__hFn3Y",shareButton:"Header_shareButton__WkAls",socialIcons:"Header_socialIcons__C1wLW",socialIcon:"Header_socialIcon__6XAhJ",copyAddress:"Header_copyAddress__dMRcq",editIcon:"Header_editIcon__q4cTk"}}}]);